## 일반적인 프론트엔드 웹 서비스 구성

- 프론트엔드 + 웹서버 + 서블릿 순으로 구성 

  - 장점 
    1. static 파일을 웹 서버가 좀더 효율적으로 처리 가능
    2. 동작 가능한 스레드 수가 전체 웹서비스의 단위 시간당 처리량을 제한 
    3. 일반 적인 웹 서비스 시스템은 서블릿 컨테이너의 앞단에 OS 레벨에서 
        지원되는 non-blocking I/O를 사용 처리 능력을 높인 웹서버를 세우고.
        서블릿 컨테이너에는 서블릿을 동작하게 하는 데 집중시켜 전체 시스템의 처리량을 최대한으로 높인다.
        
 ## 직관적, 개념적 I/O 의 이해
 
 - while문과 InputStream을 사용한 데이터를 한바이트씩 읽는다.
 - 이러한 방식을 blocking모드라고 함
 - 이유는 in.read메서드(while조건)에서 진행이 중단 될수 있음.
    ex) 데이터 전송이 중단 되면, in.read는 데이터를 읽기 위해 계속 대기 상태 -> 전체 수행 중단
 - 이러한 방식은 수신측에서는 송신측에서 데이터를 전달하지 않으면, 어떤 문제가 있는지 파악 하기 어려움
 ### 직관적 설명
    - 통나무에 강물을 내려 보내면 하루에서 모을 수 있듯, 보내고 싶은 데이터를
        차례로 스트림에 쓰면 받는 측은 스트림을 통해, 데이터 내용을 차례로 읽어들일 수 있다는것.

## 실제 물리적 전속와 근접한 I/O 방법

  - Non-blocking I/O는 스트림 대신, 전달할 메시지를 담을 버퍼를 생성
  - 수신 지점으로 버퍼의 담긴 내용을 전달하면, 수신측에 네트워크상에서 벌어지는
      이벤트에 반응 할 수 있는 셀렉터를 사용, 대기하다 수신된 메시지를 받아 처리할 수 있다.
    
## 프론트엔드 서버로서의 서블릿 컨테이너

  - 서블릿 컨테이너를 클라이언트에 직접 노출하는 경우는 많지 않음.
  - 그 이유는 서블릿 처리 자체가 원래 동기적
  - Non-Blocking IO의 장점을 살릴 수 있는 부분은 **서블릿이 수행 되기 전에  
    HTTP 요청을 받아들여, 프로토콜에 따라 파싱, 서블릿 요청 생성 하는 커넥터/리스너 모듈이 주된 대상**
  - Non-Blocking IO를 사용해 많은 요청을 받아들여도, 동시에 실행 할 수 있는 서블릿  
    인스턴스의 수는 해당 기계의 가용 스레드 수를 초과 할 수 없으므로, 
    HTTP 요청을 처리하는 전체 단위 시간당 처리량의 관점에서 Blocking IO를 사용하는것과 큰 차이가 없음.
