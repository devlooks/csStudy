### 1. DNS 서버의 기본 동작  

- DNS 조회 메세지 내부 내용 (리소스 레코드) 
  1. 이름 : 서버, 메일 배송 목적지  
  2. 클래스 : 네트워크 구분(현재 인터넷 외에 전부 제거 됨) IN 고정  
  3. 타입 : 이름에 어떤 정보가 지원되는지 제공 ex) A -> ip주소, MX -> 메일 배송 목적지

- DNS 서버는 서버에 등록된 도메인 명, IP주소의 대응표 조사, IP주소를 회답한다.


### 2. 도메인 계층

- DNS 서버에 등록한 정보에는 모든 도메인 명이라는 계층적 구조를 가진 이름이 붙여져 있음.  
ex) www.cyber.co.kr -> kr(국가) > co(회사) > cyber(회사 할당 도메인) > www(인터넷) 으로 구성  

- DNS서버와 도메인은 1:1 관계 와 다 : 1 관계를 가질수 있음.  
- 보통 사내 네트워크는, 회사마다 DNS 서버를 보유하고 있음.   

### 3. 담당 DNS 서버를 찾아 IP 주소를 가져온다.

- DNS 서버에 주소 등록 방식  
  - 하위 도메인 담당하는 DNS 서버의 IP주소를 상위 DNS 서버에 등록 하는 식으로 진행한다.  
  - 루트 도메인 : kr이나 com 이 최상위 도메인이 아니다. 루트 도메인이 존재하며, 보통 생략 된다.  
  - DNS 서버에서 IP 조회는 보통 루트 도메인 부터 시작한다.  
  - 루트 도메인에 해당 도메인 등록  
  - 루트 도메인의 DNS서버를 인터넷에 존재하는 모든 DNS서버에 등록한다.  

- DNS 서버에서 IP주소 조회 순서  
  1. 가장 가까운 DNS서버에 요청 메세지 전송
  2. 가까운 DNS 서버에 IP 주소가 존재 하지 않을시, 루트도메인에 DNS 요청 메세지 전송
  3. 루트 도메인에서 해당 요청 메세지의 하위 도메인이 어느 DNS서버에 등록 되어있는지 회신
  ... 반복 
  최하위 도메인 까지 도달, ex) www
  도메인 완성 즉, DOMAIN 주소가 존재하는 DNS 서버에 도달-> 도메인 에 대한 ip주소 조회 및 응답 메세지 전송.

### 4. DNS 서버는 캐시 기능으로 빠르게 회답할수 있다

- DNS 서버는 한번 조사한 이름을 캐시에 기록할 수 있음.
- 기록된 캐시는 유효기간 존재, 기간 지나면 삭제(등록 정보가 제거 되는 경우 존재 한다)
