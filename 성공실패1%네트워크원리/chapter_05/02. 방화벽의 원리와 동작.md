### 1. 패킷 필더링형이 주류이다.

- 방화벽은 패킷 필터링 형이 가장 많이 보급 되었다.  
  (네트워크에는 다양한 종류의 패킷이 많이 흐른다)  
  
### 2. 패킷 필터링의 조건 설정 개념

- 패킷 필터링의 조건을 설정할 떄는 먼저 패킷의 흐름에 착안한다

- 인터넷에서 보내오는 패킷은 시점을 지정 할 수없지만, 흐름의 종점은 웹서버이며,  
  이것을 조건으로 설정하고 조건에 해당하는 패킷만 통과시킨다.
  -> 송신처ip주소는 상관없으나, 종점ip주소가 일치하는 패킷은 통과시킨다느 조건 설정
  
### 3. 애플리케이션을 한정할 떄 포트 번호를 사용한다.

- 애플리케이션을 한정할 때는 TCP, UDP헤더에 포트번호를 조건으로 추가한다.

= 웹 이외의 애플리케이션의 패킷을 전부 차단하는 쪽이 좋다

### 4. 컨트롤 비트로 접속 방향을 판단한다.

- 패킷이 흐르는 방향이 아니라, 액세스 방향은 컨트롤비트를 통해 정지 시킨다.

- 컨트롤 비트를 사용하여, 최초의 패킷과 두번쨰 이후의 패킷 판별할 수있음.

- 허가하는 액세스 동작에서 흐르는 패킷과 그외의 패킷을 완전히 선별 할 수 있을때까지 조건 추가 한다.  
  액세스를 허가하는 패킷만 통과 시키고, 그외는 차단하도록 조건을 설정한다.
  
- 실제로는 통과 시키는 것과 차단하는것을 오나전히 선별 할 수 없는 경우도 있다
  ex) DNS 서버에 대한 액세스가 대표적인 예(접속 동작이 없어 방향 판별 어려움)
  
### 5. 사내 LAN 에서 공개용 LAN으로 조건을 설정한다.

- 인터넷과 공개용 LAN을 왕래하는 패킷의 조건을 설정

- 사내 LAN과 인터넷 또는 사내 LAN 과 공개 서버용 LAN을 완래하는 패킷의 조건도 설정해야한다.

### 6. 밖에서 사내 LAN으로 액세스 할 수 없다.

- 패킷 필더링형 방화벽은 패킷을 통과시킬지, 차단 시킬지 판단 뿐만 아니라, 주소변환의 기능을 가지고 있어 설정 필요하다

- 주소변환이 필요한 경우에만 변환하도록 설정해야한다.

### 7. 방화벽을 통과한다.

- 패킷 도착 (조건에 해당하는지 판정, 통과시킬지 차단할지 결정)

- 차단 대상일 경우, 패킷 버리고 버린 기록을 남김

- 통과 대상일 경우, 패킷을 중계(중계 동작은 라우터동작과 같음)

- 패킷 필터링은 방화벽용 특별한 구조가 아닌, 라우터의 패킷 중계 기능 중에서 부가 기능이라고 생각해야함

- 수신처 IP주소, 송신처 IP 주소, 수신처 포트번호, 송신처 포트번호, 컨트롤 비트 등으로 패킷을 통과시킬지 판단한다.


### 8. 방화벽으로 막을수 없는 공격

- 패킷의 내용을 조사하지 않으면, 위험한지 판단 할수 없어, 방화벽 구존느 이러한 상황에 대처 불가능 하다

- 대처법 
  1. 소프트웨어의 버그를 고쳐서 다운되지 않도록 하는것
  2. 패킷 내용을 조사하는 소프트웨어를 방화벽과 별도로 준비하는것.
