### 1. 캐시 서버의 이용

- 부하 분산 방법중 하나 캐시서버를 사용하는 것.

- 캐시서버 : 프록시라는 구조를 사용하여 데이터를 캐시에 저장하는 서버
  (프록시는 웹서버와 클라이언트 사이에 들어가 웹서버에 대한 액세스 동작 중계 역할)
  
- 캐시 : 엑세스 동작을 중개 할떄 웹서버에서 받은 데이터를 디스크에 저장, 웹 서버를 대신하여  
         클라이언트에 반송하는 기능을 가지고 있음.
         
- 캐시서버의 데이터를 리퀘스트를 처리하는데 사용하면 그만큼 웹서버 부하가 줄어, 처리시간 단축 할수 있다.

### 2. 캐시 서버는 갱신일로 콘텐츠를 관리한다.

웹 서버 <-> 캐시버서 <-> 클라이언트

- 리퀘스트 메시지를 받으면 캐시 서버는 리퀘스트 메시지의 내용을 조사, 
  데이터가 자신의 캐시에 저장 되어있는지 조사한다.
  
- 캐시에 데이터 저장되어있지 않는 경우
  - 캐시 서버에서 웹서버로 리퀘스트를 보낼때, Via 정보를 넣어서 보낸다.
  - 캐시 서버에서 클라이언트로 전송한 응답 메세지 내용에도 Via 정보를 넣어서 보낸다.

- 캐시에 데이터 저장되어있는 경우
  - 캐시 서버에서 웹서버로 리퀘스트 보낼때, If-Modified-Since 정보를 넣어서 보낸다.
  - 웹서버에서 캐시서버에 반송한 응답의 내용 Not Modified를 포함한다
  - 웹서버는 If-Modified-Since 헤더 필드의 값과 페이지 데이터의 최종 갱신일시를 비교, 하여 변경이 없을시  
    Not Modified를 넣어 응답 메시지를 반송한다.

### 3. 프록시의 원점은 포워드 프록시이다.

- 포워드 프록시 : 프록시를 클라이언트측에 두는 방법(프록시의 원형)  

- 포워드 프록시의 목적 : 캐시를 이용하는것, 방화벽을 실현하는 목적

- 프록시는 리퀘스트 내용 조사, 내용에 따라 액세스 가능한지 판단 가능함  
  그럼으로 작업과 관계없는 사이트에 대한 액세스는 금지한다는 액세스 제한을 마련할 수 있다.
  
- 포워드 프록시 사용시, 프록시 서버라는 항목에 포워드 프록시의 ip주소 설정한다.
  원래 브라우저의 리퀘스트 메시지에 전송 URI에 디렉토리만 입력 하지만
  프록시 적용시 URL 자체를 입력한다
  ex) /dir/example.html -> https:// ~ /dir/example.html
  
### 4. 포워드 프록시를 개량한 리버스 프록시

- 포워드 프록시는 브라우저에서 설정이 필요하지만, 리버스 프록시는 설정이 필요없다  
  즉, http:// 로 시작하는 URL로 리퀘스트를 보내도 받을 수 있도록 한다.

### 5. 트랜스페어런트 프록시

- IP헤더에서 수신처 IP 주소로 액세스 대상 웹서버가 어디있는 지 파악하는 것을 트랜스페어런트 프록시라고 함  
  - 이 방법은 포워드 프록시 처럼, 브라우저에 설정할 필요 없음
  - 전송 대상을 캐시서버에 설정할 필요도 없음
  - 어느 웹서버나 전송 가능

- 리퀘스트 건네주는 방법은 주의해야한다.  
  트랜스 페어런트 프록시는 DNS 서버에 등록 하는것이 없어, 메세지는 서버측에 전달되지 않는다. 
  그래서 웹서버 측으로 들어가는 길에 트랜스페어런트 프록시를 설치, 메세지 통과시, 가로챈다.
  
- 리퀘스트 흐르는 길이 많으면, 한개로 수렴하는 형태로 네트워크를 만들고, 그곳에 트랜스페어런트 프록시를 설치한다.  

- 트랜스페어런트 프록시는 사용자가 프록시 존재를 알아차릴 필요가 거의없어, HTTP 전송 구조에 대한 관심이 줄어들고  
  캐시를 이용한다는 측면에서 비중이 높아지고 있음
