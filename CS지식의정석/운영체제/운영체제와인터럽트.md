# 운영체제

## 운영체제 역할

1. CPU 스케쥴링, 프로세스 관리 : CPU 소유권을 어떤 프로세스에 할당 할지, 프로세스 생성, 삭제, 자원할당, 반환 관리
2. 메모리 관리 : 메모리 프로세스에 할당 관리
3. 디스크 파일 관리 : 디스크 파일 보관 관리
4. I/O 디바이스 관리 : I/O 디바이스(마우스, 키보드 등..) 컴퓨터와 주고 받는 것을 관리

## 운영체제의 구조

- 유저 프로그램
  - GUI/CLI 등.. 사용자 인터페이스의 한 형태, 마우스, 키보드 등..
- 시스템콜
- 커널
- 드라이버
- 하드웨어 제어하기 위한 소프트웨어
- 하드웨어

## 컴퓨터 구조

- CPU
- DMA컨트롤러
    - I/O 디바이스가 메모리에 직접 접근할수 있도록 하드웨어 장치 의미
    - CPU에 많은 인터럽트 요청 들어 올시, CPU 부하를 막아줌, CPU의 일 부담
    - 하나의 작업을 CPU, DMA 컨트롤러 동시 작업 방지
- 메모리
    - 전자회로에서 데이터 상태, 명령어등 기록 장치
    - RAM(Random Access Memory)
    - CPU는 계산 담당, 메모리는 기억 담당
- 타이머
    - 특정 프로그램에 시간을 제한하는 역할
- 디바이스 컨트롤러
    - IO디바이스(키보드, 마우스등...)의 작은 CPU의미
- CPU
    - 산술논리연산장치, 제어장치, 레지스터로 구성
    - 메모리에 존재하는 명령어 해석 실행
    - 운영체제 커널이 프로그램을 메모리에 올려 프로세스로 만들면, CPU가 이를 처리
    - 산술 논리연산장치
      - 논리 연산을 계산 하는 디지털 회로
- 제어장치
    - 프로세스 조작 지시하는 CPU의 한 부품
    - 입출력 장치간 통신 제어, 명령어 읽고 해석, 데이터 처리 순서 결정

- 레지스터
    - CPU안에 있는 매우 빠른 임시 기억장치
    - 연산 속도가 메모리의 수십배~수백배
    - CPU는 자체 데이터 저장능력 없음, 레지스터를 통해, 데이터 전달

## 인터럽트

- 어떤 신호가 들어왔을 때, CPU를 잠깐 정지 시키는것을 말함(I/O 디바이스, 산술연산에 의한 오류 등..)
- 인터럽트 발생시, 인터럽트 핸들러 함수 모여있는 인터럽트 벡터로 이동, 핸들러 함수 실행(커널내부 IRQ를 통해 호출)
- 인터럽트간 우선순위 존재, 우선순위에 따라 실행
- 인터럽트는 하드웨어, 소프트웨어 두 가지로 나뉨

- 하드웨어 인터럽트
    - I/O 디바이스에서 발생하는 인터럽트
    - 인터럽트 라인 설계 -> 순차적 인터럽트 실행 중지
      -> 운영체제 시스템 콜 요청 -> 디바이스 작은 로컬 버퍼 접근 -> 수행

- 소프트웨어 인터럽트
    - 트랩이라고도 함
    - 프로세스 오류 등 발생 -> 프로세스 시스템 콜 호출
